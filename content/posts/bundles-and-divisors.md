---
title: Bundles and Divisors on Schemes
categories: ["expositions"]
tags: ["algebraic-geometry", "math", "algebra"]
date: 2025-12-02 01:09:37
---
{{< pullquote author="Sophie Germain">}}
Algebra is but written geometry and geometry is but figured algebra.
{{< /pullquote >}}
This is an old post from 2023. Recall that for a topological space $X$, a fibre bundle of fibres $F$ where $F$ is a topological space, is a topological space $E$, with a surjective map $\pi: E\rightarrow X$ such that for all $x\in X$, exists an open nbhd $x\in U\subseteq X$ such that there is a homeomorphism $\varphi: \pi^{-1}(U)\rightarrow U\times F$ such that $\mathrm{pr}_U\circ \varphi=\pi|_{\pi^{-1}(U)}$ where $\mathrm{pr}_U:U\times F\rightarrow U$ is the projection onto $U$. Fibre bundles generalize vector bundles and covering spaces. In this post, we interpret this algebraically and generalize this notion to schemes. 

<!-- more -->

## Symmetric Algebra and Quasi-coherent Bundles

Recall that for $M$ an $A$-module, its tensor algebra is the graded algebra $T(M)=\bigoplus_{n\in\mathbb N}T^n(M)$ where $T^n(M)=M^{\otimes n}$. The symmetric algebra is the algebra $\mathrm{Sym}(M)=T(M)/I$ where $I$ is the ideal generated by the set $\{m\otimes n-n\otimes m:m,n\in M\}$, which is a graded algebra $\mathrm{Sym}(M)=\bigoplus_{n\in\mathbb N}\mathrm{Sym}^n(M)$ since $I$ is homogeneous. Note that $\mathrm{Sym}^0(M)=A$ and $\mathrm{Sym}^1(M)=M$, so there is a map $i:\mathrm{Sym}^1(M)=M\rightarrow \mathrm{Sym}(M)$. The symmetric algebra has the universal property that the precomposition $\varphi\mapsto \varphi\circ i$ induces a bijection for every $A$-algebra $B$. 

$$\mathrm{Hom}_{A-\mathrm{Alg}}(\mathrm{Sym}(M),B)\rightarrow\mathrm{Hom}_{A-\mathrm{Mod}}(M,B)$$


Setting $B=\mathrm{Sym}(N)$, we see from this that we can find $\mathrm{Sym}(u):\mathrm{Sym}(M)\rightarrow\mathrm{Sym}(N)$ which is a graded morphism, so $\mathrm{Sym}$ is a functor from the category of $A$-modules to the category of graded $A$-algebras. We globalize this construction to schemes. Let $X$ be a scheme (a more generally a ringed space), and $\mathcal E$ and $\mathcal O_X$-module, then define the graded $\mathcal O_X$-algebra $\mathrm{Sym}(\mathcal E)=\bigoplus_{n\in\mathbb N}\mathrm{Sym}^n(\mathcal E)$ be the sheafification of $U\mapsto \mathrm{Sym}_{\Gamma(U,\mathcal O_X)}(\Gamma(U,\mathcal E))$, and similarly we have a bijection

$$\mathrm{Hom}_{\mathcal O_X-\mathrm{Alg}}(\mathrm{Sym}(\mathcal E), \mathcal A)\rightarrow \mathrm{Hom}_{\mathcal O_X-\mathrm{Mod}}(\mathcal E, \mathcal A)$$

Let $\mathcal B$ be a quasicoherent $\mathcal O_X$-algebra. There exists an $X$-scheme $\underline{\mathrm{Spec}}(\mathcal B)$, such that for all $X$-schemes $f:T\rightarrow X$ there are bijections functorial in $T$ of the following form 

$$\mathrm{Hom}_{\mathrm{Sch}/X}(T,\underline{\mathrm{Spec}}(\mathcal B))\rightarrow\mathrm{Hom}_{\mathcal O_X-\mathrm{Alg}}(\mathcal B,f_*\mathcal O_T)$$

In other words, the functor $(\mathrm{Sch}/X)^{\mathrm{op}}\rightarrow \mathbf{Set}$ given by $(f: T \rightarrow X) \mapsto \mathrm{Hom}_{\mathcal{O}_X-\mathrm{Alg}}\left(\mathcal{B}, f_* \mathcal{O}_T\right)$ is representable. To see this, we note that this is a sheaf on the Zariski site, since $f_*$ and $\mathrm{Hom}(\mathcal B,-)$ are left-exact. We also have this is covered by representable open subfunctors. More concretely, the points of $\underline{\mathrm{Spec}}(\mathcal B)$ above $x\in X$ is that of $\mathrm{Spec}(\mathcal \Gamma(B,\mathcal O_X)\otimes \kappa(p))$ and the topology above an open affine $U=\mathrm{Spec}(A)$ is $\mathrm{Spec}(\Gamma(U,\mathcal B))$. For every quasi-coherent $\mathcal O_X$-module $\mathcal E$, we define $\mathbb V(\mathcal E)=\underline{\mathrm{Spec}}(\mathrm{Sym}(\mathcal E))$ functorial in $E$ which the call the quasi-coherent bundle associated to $E$. When restricted to locally free $\mathcal O_X$-modules, this functor provides a correspondance to algebraic vector bundles, where algebraic vector bundles are understood as follows, 

{{< definition >}}
A vector bundle of rank $n\in\mathbb N$ on $X$ is an $X$-scheme $V$ with an equivalence class of families $(U_i, c_i)$ where $(U_i)_i$ is an open cover of $V$ and isomorphisms $c_i:V|_{U_i}\rightarrow \mathbb A^{n}_{U_i}$ of $U_i$-schemes, such that for all $i,j$, the automorphisms $c_i\circ c_j:\mathbb A^n_{U_i\cap U_j}\rightarrow \mathbb A^n_{U_i\cap U_j}$ are linear, where two such families, called atlases, are equivalent if their union is an atlas. Moreover, define a morphisms of vector bundles $(V,U_i,c_i)\rightarrow (V^\prime,U^\prime_i,c^\prime_i)$ as a $X$-morphism $f:V\rightarrow V^\prime$ such that $c^\prime_j\circ f\circ c_i^{-1}:\mathbb A^n_{U_i\cap U^\prime_j}\rightarrow \mathbb A^n_{U_i\cap U^\prime_j}$ is linear. 
{{< /definition >}}

The locally free $\mathcal O_X$-modules are interpreted as sheaf of sections over the vector bundle. More specifically, for a vector bundle $E$ as above, we define a locally free $\mathcal O_X$-module $\mathcal E_V$ as the following. Define the sheaf $\mathcal P( V/X)$ of abelian groups by attaching to $U\subseteq X$ the sections of $V$ over $U$, that is, morphisms $s:U\rightarrow V|_U$ with $f\circ s=\mathrm{id}_U$, and restrictions are given by restrictions of scheme morphisms. Locally, this has the structure of $\mathcal O_X^n$ which gives the module structure. This gives the inverse to $\mathbb V(-)$. This correspondance is part of what is known as Serre-Swan theorem

## Cartier Divisors and Weil divisors

It is an important question to determine the configuration of zeros and poles of a rational (or meromorphic) function. Let $X$ be an integral scheme (i.e. reduced and irreducible). We denote by $\mathcal K_X$ the constant sheaf on $X$ with value the function field $K(X)$ of $X$. 

{{< definition >}}
A Cartier divisor on $X$ is a family $(U_i,f_i)$ where $(U_i)_i$ is an open cover of $X$ and $f_i\in K(X)^\times$ with $f_if_j^{-1}\in \Gamma(U_i\cap U_j,\mathcal O_X^\times) $ for all $i,j$, where two families $(U_i,f_i)$, $(V_i,g_i)$ give rise to the same Cariter divisor if $f_ig_j^{-1}\in\Gamma(U_i\cap V_j,\mathcal O_X^\times)$ for all $i,j$. The Cartier divisors form an abelian group $\mathrm{Div}(X)$, where adding the family $(U_i,f_i)$ and $(V_i,g_i)$ gives $(U_i\cap V_j,f_ig_j)$. A Cartier divisor is principle if it is given by some $(X,f)$, and two divisors $D,E$ are linearly equivalent if $D-E$ is principle. 
{{< /definition >}}

Alernatively, we can set $\mathrm{Div}(X)=\Gamma(X,\mathcal K_X^\times/\mathcal O_X^\times)$, and principle divisors the ones in the image of $\Gamma(X,\mathcal K_X^\times)$. We call the ones in $\Gamma(X,(\mathcal K_X^\times\cap \mathcal O_X)/\mathcal O_X^\times)$ effective divisors and denote it by $D\ge 0$. Let $\mathrm{Cl}(X)$ denote $\mathrm{Div}(X)$ modulo the principle divisors, which we call the divisor class group. We have a short exact sequence.
$$1\longrightarrow \Gamma(X,\mathcal O_X)^\times\longrightarrow K(X)\longrightarrow \mathrm{Div}(X) \longrightarrow \mathrm{Cl}(X)\longrightarrow 0$$ 

To a Cartier divisor $D$, we associate the line bundle $\mathcal O_X(D)$ for all open $V\subseteq X$. 
$$\Gamma(V,\mathcal O_X(D))=\{f\in K(X): \forall i,f_if\in \Gamma(U_i\cap V,\mathcal O_X)\}$$  

This association $D\mapsto \mathcal O_X(D)$ induces an isomorphism $\mathrm{Cl}(X)\cong \mathrm{Pic}(X)$. Call an invertible $\mathcal O_X$-submodule of $\mathcal K_X$ an invertible fractional ideal of $\mathcal O_X$. Then we can associate a Cartier divisor $D$ an invertible fractional ideal $\mathcal F_X(D)$ such that $\mathcal F_X(D) (U_i)=f_i\mathcal O_X$. This correspondance provides an isomorphism between $\mathrm{Div}(X)$ and the invertible fractional ideal on $X$. Cartier divisors considered more geometrically is so called Weil divisors. Let $Z^k(X)$ be the free abelian group generated on the set of closed integral subscheme of codimension $k$. The elements of $Z^1(X)$ are then called Weil divisors and their generators called the prime divisors, and the ones with nonnegative coefficients are called the effective Weil divisors. We now connect Weil divisors with Cartier divisors with a homomorphism $\mathrm{cyc}: \mathrm{Div}(X)\rightarrow Z^1(X) $. To this end, we need to define, for a prime Weil divisor $C$, the order $\mathrm{ord}_C(f)$ for some meromorphic function $f\in \Gamma(U,\mathcal K_X)$ where the generic point $\xi$ of $C$ is contained in $C$. If the local ring $\mathcal O_{X,C}=\mathcal O_{X,\xi}$ is a DVR, for example, when $X$ is normal, then we can just set $\mathrm{ord}_C(f)=\nu (f)$ the normalized discrete valuation of $f$. In general, the local ring is a local noetherian ring of dimension $1$. For a nonzero $f\in \mathrm{Frac}(\mathcal O_{X,C})$ where $f=a/b$ we set $\mathrm{ord}_C(f)=\mathrm{lg}(\mathcal O_{X,C}/(a))-\mathrm{lg}(\mathcal O_{X,C}/(b))$. For a Cartier divisor $D$, we choose some element of its atlas $(U_i,f_i)$ where $\xi_C\in U_i$, and define $\mathrm{ord}_C(D)=\mathrm{ord}_C(f_i)$, and then we can define $\mathrm{cyc}(D)=\sum_C\mathrm{ord}_C(D)\left[C\right]$. This provides the desired correspondance. Like Cartier divisors, we can associate to each Weil divisor $D$, a fractional ideal $\mathcal L$ where
$$\Gamma(U,\mathcal L)=\{f\in \mathcal K_X(U): \mathrm{div}(f)+D\ge 0\}$$ which is the same one as the one with the corresponding Cartier divisor. 


## Torsors

For a sheaf $T$ on some $X$ and a sheaf of groups $G$ on $X$, we say $T$ is a $G$-torsor if $G$ acts on $T$ simply transitively and $X$ has an open cover $(U_i)_i$ such that $T(U_i)$ is nonempty for all $i$. The sheaf cohomology $H^1(X,G)$ classifies the $G$-torsors. For a locally free $\mathcal O_X$-module $\mathcal E$ of rank $n$. The sheaf $\mathrm{Isom}(\mathcal O_X^n,\mathcal E)$ is a $\mathrm{GL}_n(\mathcal O_X)$-torsor by $\mathrm{GL}_n(\mathcal O_X)(U)$ acts on $\mathrm{Isom}(\mathcal O_X^n,\mathcal E)(U)$ by $g\cdot u\mapsto u\circ g^{-1}$. We have a bijection between rank $n$ vector bundles and $H^1(X,\mathrm{GL}_n(\mathcal O_X))$, so rank $n$ vector bundles are identified with $\mathrm{GL}_n(\mathcal O_X)$-torsors. 